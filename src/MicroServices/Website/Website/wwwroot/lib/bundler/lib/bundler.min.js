/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/bundler@0.8.0/lib/bundler.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function get_bundling(e,s,o,t){o=o||"mega";var n=e.DEBUG,i=e.max_pause,a=e.output,l=s.pages,r={};l.forEach((function(e){r[e[0]]=e[1].depsSets}));var u=e.sessions,g={kb_cost:e.kb_cost,file_cost:e.file_cost},d=require("./generators.js").get_generators({sessions:u,cost_data:g,deps:r,max_pause:i});function f(e){var s={},o=[],t=[];for(var n in e)s[n]=[],e[n].forEach((function(e){var i=e.join(),a=o.indexOf(i);-1==a&&(a=o.length,o.push(i),t.push(e)),s[n].push(a)}));return{bundles:t,pages:s}}if(n){for(var p in d)if("mega"!=p){var c=d[p]();console.log(p,c.cost)}console.log()}var m=d[o](n);if(t)return{bundling:f(m.bundling),cost:m.cost};if(n)console.log(),console.log("mega:"),console.log(f(m.bundling).pages),console.log(m.cost);else{c=f(m.bundling);a.write("exports.bundling = "+JSON.stringify(c)+";")}}exports.get_bundling=get_bundling,exports.COA=require("coa").Cmd().name(process.argv[1]).title("Bundler. It is better for you to not know what it is.").helpful().opt().name("file_cost").title("file cost, default: 10").def(10).long("file-cost").end().opt().name("kb_cost").title("kb cost, default: 2").def(2).long("kb-cost").end().opt().name("max_pause").title("max pause in session (in seconds), default: one hour").def(3600).long("max-pause").end().opt().name("DEBUG").title("Use debug mode. Prints some useful information, and hides some useless").flag().def(!1).long("debug").end().opt().name("sessions").title("Sessions = access logs").req().long("sessions").short("s").val((function(e){return require(require("path").resolve(e)).sessions})).end().opt().name("output").title("file to write output; '-' for using stdout; default stdout").output().long("output").short("o").end().arg().name("pages").title("Names of files with pages (with path). Format of file names: [page-name].*, where page-name will be used in sessions").arr().val((function(e){var s=require("path");return[s.basename(e).split(".")[0],require(s.resolve(e))]})).end().act(get_bundling);
//# sourceMappingURL=/sm/7b05288c9f0b7cdf5decdceed5110f6d367bb554172ca71f3f7f3fbb6aadf276.map