function operationComponent(n){return html=`
       <button class="btn btn-sm" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="ویرایش"><i class="fa fa-pencil" aria-hidden="true"></i>
</button>
<button class="btn btn-sm" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="رزرو" onclick="reserveBook('${n}')"><i class="fa fa-bookmark" aria-hidden="true"></i>
</button>
<button class="btn btn-sm" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="حذف" onclick = "deleteBook('${n}')"><i class="fa fa-trash" aria-hidden="true"></i></i>
</button>
`}let gridApi;const dataSource={getRows(n){n.request;$.ajax({url:"/Home/GetAll",type:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(n.request),success:function(t){n.success({rowData:t.rows,rowCount:t.totalCount})},error:function(t){console.error(t);n.fail()}})}},columnsDef=[{headerName:"تصویر",field:"imageUrl",sortable:!0,filter:!0,cellClass:"logo",cellRenderer:n=>`<img src="${n.value}">`,maxWidth:100},{headerName:"نام کتاب",field:"title",sortable:!0,filter:!0},{headerName:"شناسه",field:"id",sortable:!0,filter:!0},{headerName:"شابک",field:"isbn",sortable:!0,filter:!0},{headerName:"دسته",field:"category",sortable:!0,filter:!0},{headerName:"نویسنده",field:"author",sortable:!0,filter:!0},{headerName:"ناشر",field:"publisher",sortable:!0,filter:!0},{headerName:"توضیحات",field:"description",sortable:!0,filter:!0},{headerName:"عملیات",sortable:!1,filter:!1,cellClass:"operation",cellRenderer:n=>operationComponent(n.data.id)}];let gridObject=new Grid(dataSource,columnsDef);gridApi=gridObject.drawGrid();onSuccess=()=>{};onFailure=()=>{alert("Error!")};openFile=()=>{document.getElementById("image").click()};previewImage=()=>{var t=$("input[type=file]").get(0).files[0],i=t.name,n;$("Image").val(i);t&&(n=new FileReader,n.onload=function(){$("#previewImg").attr("src",n.result)},n.readAsDataURL(t))};$("#publishers-select").select2({tags:!0,placeholder:"ناشر را انتخاب کنید",theme:"bootstrap4",minimumResultsForSearch:-1,delay:250,language:{searching:function(){return"در حال جست و جو"}},minimumInputLength:4,allowClear:!0,ajax:{url:"/api/publisher/getAll",type:"GET",contentType:"application/json; charset=utf-8",data:function(n){return{term:n.term}},processResults:function(n){return{results:$.map(n,function(n){return{id:n.name,text:n.name}})}}}});$("#categories-select").select2({tags:!0,placeholder:"دسته را انتخاب کنید",theme:"bootstrap4",minimumResultsForSearch:-1,delay:250,language:{searching:function(){return"در حال جست و جو"}},minimumInputLength:4,allowClear:!0,ajax:{url:"/api/category/getAll",type:"GET",contentType:"application/json; charset=utf-8",data:function(n){return{term:n.term}},processResults:function(n){return{results:$.map(n,function(n){return{id:n.name,text:n.name}})}}}});deleteBook=n=>{Swal.fire({html:"آیا از حذف کتاب با شناسه"+` <b>${n}</b> `+"مطمئن هستید.",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCloseButton:!0,showCancelButton:!0,confirmButtonText:"بله",cancelButtonText:"لغو"}).then(t=>{t.isConfirmed&&($("#deleteBook input[name='bookId']").val(n),$("#deleteBook").submit())})};onSuccessDeleteBook=n=>{gridApi.refreshServerSide(),Swal.fire({html:"کتاب با شناسه"+` <b>${n}</b> `+"حذف شد.",icon:"success",allowOutsideClick:!1,allowEscapeKey:!1,showCloseButton:!0,showCancelButton:!1,confirmButtonText:"باشه"})};