function operationComponent(n){return html=`
     
<button class="btn btn-sm" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="رزرو" onclick="reserveBook('${n}')"><i class="fa fa-bookmark" aria-hidden="true"></i>
</button>

`}let gridApi;const dataSource={getRows(n){n.request;$.ajax({url:"/Home/GetAll",type:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(n.request),success:function(t){n.success({rowData:t.rows,rowCount:t.totalCount})},error:function(t){console.error(t);n.fail()}})}},columnsDef=[{headerName:"تصویر",field:"imageUrl",sortable:!0,filter:!0,cellClass:"logo",cellRenderer:n=>`<img src="${n.value}">`,maxWidth:100},{headerName:"نام کتاب",field:"title",sortable:!0,filter:!0},{headerName:"شناسه",field:"id",sortable:!0,filter:!0},{headerName:"شابک",field:"isbn",sortable:!0,filter:!0},{headerName:"دسته",field:"category",sortable:!0,filter:!0},{headerName:"نویسنده",field:"author",sortable:!0,filter:!0},{headerName:"ناشر",field:"publisher",sortable:!0,filter:!0},{headerName:"توضیحات",field:"description",sortable:!0,filter:!0},{headerName:"عملیات",sortable:!1,filter:!1,cellClass:"operation",cellRenderer:n=>operationComponent(n.data.id)}];let gridObject=new Grid(dataSource,columnsDef);gridApi=gridObject.drawGrid();reserveBook=n=>{$.ajax({url:`/Home/RentBook`,type:"Post",data:{BookId:n,UserId:0},success:function(){},error:function(n){console.error(n)}})};onSuccessFilterBook=n=>{gridApi.setGridOption("rowData",[]),gridApi.setGridOption("rowData",n)};document.getElementById("searchButton").addEventListener("click",()=>{let n=$("#searchForm").serializeArray(),t=n.reduce((n,t)=>(n[t.name]=t.value??"",n),{});gridApi.setServerSideDatasource({getRows(n){n.request;$.ajax({url:"/Home/Search",type:"Post",data:{...t},headers:{RequestVerificationToken:$('#searchForm input[name="__RequestVerificationToken"]').val()},success:function(t){n.success({rowData:t.rows,rowCount:t.totalCount})},error:function(t){console.error(t);n.fail()}})}})});